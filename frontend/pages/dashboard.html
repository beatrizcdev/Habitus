<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style/global.css">
    <link rel="stylesheet" href="../style/tarefas.css">
    <link rel="stylesheet" href="../style/navbar.css">
    <link rel="stylesheet" href="../style/habito.css">
</head>
<body>
    <div class="container">
  <header class="header">
    <nav class="navbar">
      <!-- Logo -->
      <a href="/" class="logo">
        <img src="../pictures/utilidades/logotipo.svg" alt="Logo da Habitus" width="130" height="50" />
      </a>

      <!-- Menu principal -->
      <ul class="lista">
        <li class="mainitens">
          <img class="mainicons" src="../pictures/utilidades/missions.svg" alt="Miss√µes" width="24" height="24" />
          <a href="/missoes">Miss√µes</a>
        </li>
        <li class="mainitens">
          <img class="mainicons" src="../pictures/utilidades/teamshield.svg" alt="Equipe" width="24" height="24" />
          <a href="/equipe">Equipe</a>
        </li>
        <li class="mainitens">
          <img class="mainicons" src="../pictures/utilidades/questionmark.svg" alt="Ajuda" width="24" height="24" />
          <a href="/ajuda">Ajuda</a>
        </li>
      </ul>

      <!-- Borda direita -->
      <div class="itensborda">
        <div class="moeda">
          <img class="mainicons" src="../pictures/utilidades/coinspig.svg" alt="Moedas" width="24" height="24" />
          <span>10000</span>
        </div>

        <img
          class="iconsborda"
          src="../pictures/utilidades/notif.svg"
          alt="Notifica√ß√µes"
          width="36"
          height="36"
          onclick="document.getElementById('modal-notificacoes').style.display = 'flex';"
        />

        <a href="/editar-perfil">
          <img
            class="iconsborda"
            src="../pictures/utilidades/profile.svg"
            alt="Perfil"
            width="36"
            height="36"
          />
        </a>
      </div>

      <!-- Modal de notifica√ß√µes -->
      <div id="modal-notificacoes" class="modalNotificacoes" style="display: none;">
        <div class="modalContent">
          <span class="fechar" onclick="document.getElementById('modal-notificacoes').style.display = 'none';">&times;</span>
          <h2>Notifica√ß√µes</h2>
          <p>üîî Voc√™ ganhou 50 moedas!</p>
          <p>üìÖ Miss√£o nova dispon√≠vel!</p>
          <p>üéâ Parab√©ns pelo n√≠vel 15!</p>
        </div>
      </div>
    </nav>
  </header>

  <div class="tabs-container">
  <button class="tab active" onclick="mostrarAba('tarefas')">Tarefas</button>
  <button class="tab" onclick="mostrarAba('habitos')">H√°bitos</button>
</div>

<!-- Conte√∫do das abas -->
<div id="conteudo-tarefas" class="conteudo-aba ativo">
  <div class="tarefas-container">
    <h2>Lista de Tarefas</h2>
    
    <ul id="lista-tarefas" class="task-list">
      <!-- Tarefas carregadas dinamicamente v√£o aparecer aqui -->
    </ul>

    <div class="botoes-tarefa">
      <button class="btn-add">+</button>
      <button class="btn-trash">üóëÔ∏è</button>
    </div>
  </div>
</div>

<div id="conteudo-habitos" class="conteudo-aba">
    <h3>
        <hr style="width: 20%; display: inline-block;"> Lista de H√°bitos
        <hr style="width: 20%; display: inline-block;">
      </h3>

      <ul id="lista-habitos"></ul>
      
      <div class="habitos-botoes">
        <button id="habitos-botao" onclick="abrirModalHabito()"> <img src="../pictures/utilidades/Plus.svg" alt="icone +"> </button>
        <button id="habitos-botao" onclick="abrirModalRemoverHabito()"> <img src="../pictures/utilidades/lixeira.svg" alt="icone lixeira"> </button>
      </div>
</div>

</div>
<img class="arvore" src="../pictures/arvore/arvore_fase_4.svg" alt="arvore">

  <div class="headerSpacing"></div>
  <!-- Modal de Nova Tarefa -->
<div id="modal-tarefa" class="modal hidden">
  <div class="modal-content">
    <h2>Nova Tarefa</h2>

    <label for="nome">T√≠tulo:</label>
    <input type="text" id="nome" name="nome">

    <label for="descricao">Descri√ß√£o:</label>
    <textarea id="descricao" name="descricao"></textarea>

        <label for="categoria">Categoria:</label>
        <input type="text" id="categoria" name="categoria">

    <div class="linha-prioridade-data">
      <div class="prioridade">
        <p>Prioridade:</p>
        <label><input type="radio" name="prioridade" value="alta" required> <span class="bolinha vermelha"></span> Alta</label>
        <br>
        <label><input type="radio" name="prioridade" value="media"> <span class="bolinha amarela"></span> M√©dia</label><br>
        <label><input type="radio" name="prioridade" value="baixa"> <span class="bolinha verde"></span> Baixa</label>
      </div>

      <div class="data-limite">
        <label for="dataLimite">Data m√°xima:</label>
        <input type="date" id="dataLimite" name="dataLimite">
      </div>
    </div>

    <button id="btnSalvarTarefa">Salvar</button>
    <button id="btn-cancelar-tarefa">Cancelar</button>
  </div>
</div>

<!-- Modal habitos -->
      <div id="modal-habito" class="modal-habito" style="display: none;">
        <div class="modal-habito-conteudo">
          <h4>Adicionar novo h√°bito</h4>
          <input type="text" id="input-novo-habito" placeholder="Nome do H√°bito">
          <button class="modal-habito-botao" onclick="confirmarAdicionarHabito()">Adicionar</button>
          <button class="modal-habito-botao" onclick="fecharModalHabito()">Cancelar</button>
        </div>
      </div>

      <div id="modal-remover-habito" class="modal-habito" style="display: none;">
        <div class="modal-habito-conteudo">
          <h2>Remover H√°bito</h2>
          <select id="habitosParaRemover">
            <!-- h√°bitos ser√£o inseridos aqui via JS -->
          </select>
          <button class="modal-habito-botao" onclick="removerHabitoSelecionado()">Remover</button>
          <button class="modal-habito-botao" onclick="fecharModalRemoverHabito()">Cancelar</button>
        </div>
      </div>



    <script type="module" src="../integracao/tarefas.js"></script>
  <script type="module">
  import {mostrarAba, abrirModalHabito,
    fecharModalHabito,
    confirmarAdicionarHabito,
    abrirModalRemoverHabito,
    fecharModalRemoverHabito,
    removerHabitoSelecionado} from '../script/dashboard.js';

  document.querySelectorAll(".tab").forEach(btn => {
    btn.addEventListener("click", () => {
      const aba = btn.textContent.trim().toLowerCase();
      mostrarAba(aba);
    });
  });
</script>
</body>

</html>